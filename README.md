# Oracles Network crowdsale contracts for audit

## Overview

Contracts for this repo are created for the [crowdsale](https://oracles.org/tokens) of Oracles POA Network on December 1, 2017.

Contracts are generated by [ICO Wizard](https://github.com/oraclesorg/ico-wizard).
Contracts are based on [modified](https://github.com/oraclesorg/ico-audit) TokenMarket ICO contracts.

### Remarks about cross chain crowdsale 

These contracts are used in cross chain crowdsale and represent logi—Å on the left side of the bridge.
During each buy of tokens, the bridge will listen to events emitted by this smart contract and create _additional_ tokens on the right side of the bridge. These tokens will be exchanged for coins after crowdsale end on the right side of the bridge using a [Treasury](https://github.com/oraclesorg/treasury) contract. The right side of the bridge which is modified parity-bridge contract and treasury contracts is not a subject of this audit.

## Parameters

### Token

Parameters of ICO Wizard used to generate the instance of token contract for the audit.

| Field           | Value        |
|-----------------|--------------|
| Token name      | POA Network  |
| Token Ticker    | POA          |
| Decimals        | 18           |
| Reserved tokens | None         |

Remarks:
- "Reserved tokens - None" no % or fixed tokens 
- For that crowdsale created tokens will not be movable after the crowdsale. They will only indicate purchased amounts of tokens. Actual tokens will be created on the right side of the bridge on Oracles Network. 

### Crowdsale

Parameters of ICO Wizard used to generate the instance of crowdsale for the audit.

| Field              	| Value                      	|
|--------------------	|---------------------------	|
| Tiers              	| 1                         	|
| Supply             	| 176,722,560               	|
| Rate               	| 4241                      	|
| Allow modifying    	| No                        	|
| Disable whitelist  	| No                        	|
| Start date         	| 1 December, 2017 9am PST  	|
| End date           	| 15 December, 2017 3pm PST 	|

Remarks:

- Rate - how many tokens for 1 ETH
- Supply - max cap of tokens. Token is mintable. Unsold tokens will not be produced.
- "Allow modifying - No" means that rate, supply, start date, end date are not modifiable.
- "Disable whitelist - No" means that whitelist is enable and only whitelisted accounts could participate in the crowdsale.

## Source code and deployed contracts

Source code for code audit is located in [/icowizard_Kovan_0xE46DF67c7BADf7220850B65b7Cf81801c86A0753/](https://github.com/oraclesorg/tokensale-left/tree/master/icowizard_Kovan_0xE46DF67c7BADf7220850B65b7Cf81801c86A0753) folder of the repository

###  Files structure

Files have prefixes corresponding to order of execution, e.g. a file with prefix `001_` will be deployed before a file with prefix `002_`.

A `.sol` file contain contract code.
A `.txt` file contain metadata

### Deployed contracts
Contracts are deployen on Kovan and verified 
- `SafeMathLibExt`. The code of verified [SafeMathLibExt is here](https://kovan.etherscan.io/address/0x4b360178A24E30eF5e526075688462f58839f35d#code).
- `CrowdsaleTokenExt`. The token contract. The code of verified [CrowdsaleTokenExt is here](https://kovan.etherscan.io/address/0xE46DF67c7BADf7220850B65b7Cf81801c86A0753#code).
- `FlatPricingExt`. The pricing strategy contract. The code of verified [FlatPricingExt is here](https://kovan.etherscan.io/address/0xf175eB9c6Ab88CAaD8b781Fa6c3F2E228bDE7c61#code).
- `MintedTokenCappedCrowdsaleExt`. The crowdsale contract for a tier. The code of verified [MintedTokenCappedCrowdsaleExt is here](https://kovan.etherscan.io/address/0x88B0C54aa5155d203ec28492DC2d985dD6eCB6E6#code).
- `NullFinalizeAgentExt`. The finalize agent contract. The example of verified [NullFinalizeAgentExt is here](https://kovan.etherscan.io/address/0xc328C8A5e9011819f92D4505e027858a60dd65Ef#code).

## Deployment stage

After all of the contracts are deployed next methods are executed at deployment stage:
- `setMintAgent` - sets `finalizeAgent` contract and crowdsale contract addresses as mint agents of token contract.
- `setFinalizeAgent` - sets `finalizeAgent` contract address as a finalize agent of the crowdsale contract.
- `setReleaseAgent` - sets `finalizeAgent` contract address as a release agent of token contract.
- `transferOwnership` - transfers ownership of token contract to the address that holds collected ether, which filled at step 2 of ICO Wizard.
